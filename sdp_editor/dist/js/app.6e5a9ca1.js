(function(e){function t(t){for(var o,l,s=t[0],r=t[1],p=t[2],u=0,d=[];u<s.length;u++)l=s[u],i[l]&&d.push(i[l][0]),i[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,p||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},i={app:0},a=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var c=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"288d":function(e,t,n){e.exports=n.p+"img/baseline-add-24px.ca3efbf7.svg"},"3d14":function(e,t,n){e.exports=n.p+"img/baseline-input-24px.a5e3e9a9.svg"},"5b0d":function(e,t,n){},7259:function(e,t,n){e.exports=n.p+"img/baseline-delete-24px.d36bd4a7.svg"},"832c":function(e,t,n){e.exports=n.p+"img/baseline-grid_on-24px.d645e842.svg"},9358:function(e,t,n){e.exports=n.p+"img/baseline-chat_bubble_outline-24px.e412e1bd.svg"},"9e79":function(e,t,n){e.exports=n.p+"img/baseline-edit-24px.45b30f6a.svg"},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o,i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Tools",{on:{addElement:e.addElement,editElement:e.editElement,deleteElement:e.deleteElement,initTools:e.initTools}}),n("div",{attrs:{"data-canvas":""}},[n("div",{staticClass:"sdp_page",style:{height:e.myPage.height+"px",width:e.myPage.width+"px"},attrs:{"data-editorPage":""}},[n("div",{attrs:{"data-editorLayer":"background"}}),n("div",{attrs:{"data-editorLayer":"base"}}),n("div",{attrs:{"data-editorLayer":"gui"}})])])],1)},l=[],s=(n("ac6a"),n("d225")),r=n("b0b4"),p=n("308d"),c=n("6bb5"),u=n("4e2b"),d=n("9ab4"),h=n("60a3"),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sdp-editorTools"},[o("img",{attrs:{"data-editorAddButton":"",src:n("288d"),alt:"Add",title:"Add"},on:{mouseover:function(t){e.toggleInputOptions(!0)}}}),o("img",{attrs:{disabled:!0,src:n("9e79"),alt:"Edit",title:"Edit"},on:{click:function(t){e.$emit("editElement")}}}),o("img",{attrs:{src:n("7259"),alt:"Delete",title:"Delete"},on:{click:function(t){e.$emit("deleteElement")}}}),o("img",{attrs:{disabled:!0,src:n("9358"),alt:"Comment",title:"Comment"},on:{click:function(t){e.$emit("addElement",e.Declarations.ElementTypes.bubble)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showInputOprions,expression:"showInputOprions"}],staticClass:"sdp-inputOptions",style:e.optionsStyle,on:{mouseleave:function(t){e.toggleInputOptions(!1)}}},[o("img",{attrs:{src:n("3d14"),alt:"AddInput",title:"AddInput"},on:{click:function(t){e.$emit("addElement",e.ElementTypes.input)}}}),o("img",{attrs:{disabled:!0,src:n("e3e8"),alt:"AddLabel",title:"AddLabel"},on:{click:function(t){e.$emit("addElement",e.ElementTypes.label)}}}),o("img",{attrs:{disabled:!0,src:n("832c"),alt:"AddGrid",title:"AddGrid"},on:{click:function(t){e.$emit("addElement",e.ElementTypes.grid)}}})])])},m=[];(function(e){(function(e){e["input"]="input",e["label"]="label",e["grid"]="grid",e["bubble"]="bubble"})(e.ElementTypes||(e.ElementTypes={}));var t=function e(){Object(s["a"])(this,e),this.top="0px",this.left="0px",this.height="0px",this.width="0px",this.fontSize="10pt",this.borderWidth="0px",this.borderColor="0px",this.backgroundColor="white"};e.Position=t})(o||(o={}));var w=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(p["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.showInputOprions=!1,e.optionsStyle={top:"0px",left:"0px"},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"toggleInputOptions",value:function(e){if(this.showInputOprions=e,this.showInputOprions){var t=document.querySelector("[data-editorAddButton]")||new HTMLElement,n=t.getBoundingClientRect(),o=n.bottom-n.top;this.optionsStyle.top=n.top+o+"px",this.optionsStyle.left=n.left+"px"}}},{key:"mounted",value:function(){this.$nextTick(function(){this.$emit("initTools")})}},{key:"ElementTypes",get:function(){return o.ElementTypes}}]),t}(h["c"]);w=d["a"]([h["a"]],w);var b=w,v=b,g=n("2877"),y=Object(g["a"])(v,f,m,!1,null,"7c906ab6",null),x=y.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sdp_input",style:e.wrapperStyle,on:{click:e.emitSelectWrapper}},[e._v("\n    "+e._s(e.name)+"\n    "),n("input",{style:e.inputStyle,attrs:{type:"text"},domProps:{value:e.value},on:{click:e.emitSelectInput}})])},k=[],$=(n("a481"),n("59ad")),j=n.n($),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sdp_gui_input",style:{height:e.height+"px",width:e.width+"px",top:e.top+"px",left:e.left+"px"},on:{mousedown:e.emitMouseDown}},[n("span",{style:{top:e.ay+"px",left:e.ax+"px"},attrs:{"data-anchor":"nw"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.ay+"px",left:e.ax+(e.zx-e.ax)/2+"px"},attrs:{"data-anchor":"n"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.ay+"px",left:e.zx+"px"},attrs:{"data-anchor":"ne"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.ay+(e.zy-e.ay)/2+"px",left:e.ax+"px"},attrs:{"data-anchor":"w"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.ay+(e.zy-e.ay)/2+"px",left:e.zx+"px"},attrs:{"data-anchor":"e"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.zy+"px",left:e.ax+"px"},attrs:{"data-anchor":"sw"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.zy+"px",left:e.ax+(e.zx-e.ax)/2+"px"},attrs:{"data-anchor":"s"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")]),n("span",{style:{top:e.zy+"px",left:e.zx+"px"},attrs:{"data-anchor":"se"},on:{mousedown:e.emitAnchorMouseDown}},[e._v("■")])])},E=[],U=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(p["a"])(this,Object(c["a"])(t).call(this)),e.movingAnchor=!1,e.ax=-7,e.ay=-10,e.zx=0,e.zy=0,e.guiStyle=new o.Position,e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"onTopChange",value:function(e,t){e<0?this.top=0:this.movingAnchor&&(console.log(e+" "+t),this.height-=(e||0)-(t||0))}},{key:"onLeftChange",value:function(e,t){e<0?this.left=0:this.movingAnchor&&(console.log(e+" "+t),this.width-=(e||0)-(t||0))}},{key:"onHeightChange",value:function(e,t){this.zy=this.height-9}},{key:"onWidthChange",value:function(e,t){this.zx=this.width-5}},{key:"emitMouseDown",value:function(e){var t=this;e.preventDefault(),e.stopImmediatePropagation();var n=e.clientX,o=e.clientY,i=this.$el.offsetLeft,a=this.$el.offsetTop;this.movingAnchor=!1,window.onmousemove=function(e){if(e.preventDefault(),e.stopImmediatePropagation(),0===e.button){var l=e.clientX,s=e.clientY;t.left=l-(n-i),t.top=s-(o-a)}else window.onmousemove=null},window.onmouseup=function(e){window.onmousemove=null,t.emitGUIMouseUp()},window.onmousedown=function(e){window.onmousedown=null,t.emitGUIUnselect(),t.$el.parentElement&&t.$el.parentElement.removeChild(t.$el)}}},{key:"emitAnchorMouseDown",value:function(e){var t=this;e.preventDefault(),e.stopImmediatePropagation();var n=e.target.getAttribute("data-anchor")||"",o=e.clientX,i=e.clientY,a=this.$el.offsetLeft,l=this.$el.offsetTop,s=this.height,r=this.width;this.movingAnchor=!0,window.onmousemove=function(e){if(e.preventDefault(),e.stopImmediatePropagation(),0===e.button){var p=e.clientX,c=e.clientY;switch(n){case"nw":t.left=p-(o-a),t.top=c-(i-l);break;case"n":t.top=c-(i-l);break;case"ne":t.width=r+(p-o),t.top=c-(i-l);break;case"e":t.width=r+(p-o);break;case"se":t.height=s+(c-i),t.width=r+(p-o);break;case"s":t.height=s+(c-i);break;case"sw":t.left=p-(o-a),t.height=s+(c-i);break;case"w":t.left=p-(o-a);break}}else window.onmousemove=null},window.onmouseup=function(e){window.onmousemove=null,t.emitGUIMouseUp()},window.onmousedown=function(e){window.onclick=null,t.emitGUIUnselect(),t.$el.parentElement&&t.$el.parentElement.removeChild(t.$el)}}}]),t}(h["c"]);d["a"]([Object(h["b"])()],U.prototype,"top",void 0),d["a"]([Object(h["b"])()],U.prototype,"left",void 0),d["a"]([Object(h["b"])()],U.prototype,"height",void 0),d["a"]([Object(h["b"])()],U.prototype,"width",void 0),d["a"]([Object(h["b"])()],U.prototype,"emitGUIMouseUp",void 0),d["a"]([Object(h["b"])()],U.prototype,"emitGUIUnselect",void 0),d["a"]([Object(h["d"])("top")],U.prototype,"onTopChange",null),d["a"]([Object(h["d"])("left")],U.prototype,"onLeftChange",null),d["a"]([Object(h["d"])("height")],U.prototype,"onHeightChange",null),d["a"]([Object(h["d"])("width")],U.prototype,"onWidthChange",null),U=d["a"]([h["a"]],U);var C=U,S=C,G=Object(g["a"])(S,I,E,!1,null,"ad091654",null),T=G.exports,_=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(p["a"])(this,Object(c["a"])(t).call(this)),e.id="",e.top=0,e.left=0,e.height=0,e.width=0,e.inputWidthRatio=.6,e.backgroundColor="white",e.strokeColor="black",e.value="Default Value",e.name="New Input",e.wrapperStyle=new o.Position,e.inputStyle=new o.Position,e.top=0,e.left=0,e.height=20,e.width=200,e.wrapperStyle={top:e.top+"px",left:e.left+"px",height:e.height+"px",width:e.width+"px",fontSize:"10pt",borderWidth:"1px",borderColor:"#000000",backgroundColor:"#FFFFFF"},e.inputStyle={top:j()(e.wrapperStyle.borderWidth.replace("px",""))/2+"px",left:"0px",height:.9*e.height-2*j()(e.wrapperStyle.borderWidth.replace("px",""))+"px",width:e.width*e.inputWidthRatio+"px",fontSize:"10pt",borderWidth:"1px",borderColor:"#000000",backgroundColor:"#FFFFFF"},e.GUI=new T,e.GUI.$props.emitGUIMouseUp=e.emitGUIMouseUp,e.GUI.$props.emitGUIUnselect=e.emitGUIUnselect,e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"onTopChange",value:function(e,t){this.wrapperStyle.top=e+"px"}},{key:"onLeftChange",value:function(e,t){this.wrapperStyle.left=e+"px"}},{key:"onHeightChange",value:function(e,t){this.wrapperStyle.height=e+"px"}},{key:"onWidthChange",value:function(e,t){this.wrapperStyle.width=e+"px",this.inputStyle.width=e*this.inputWidthRatio+"px"}},{key:"created",value:function(){this.$mount(),window.$BaseLayer.appendChild(this.$el)}},{key:"emitSelectWrapper",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.GUI.$props.top=this.top,this.GUI.$props.left=this.left,this.GUI.$props.height=this.height,this.GUI.$props.width=this.width,this.GUI.$mount(),window.$GuiLayer.appendChild(this.GUI.$el),this.emitSelect(this)}},{key:"emitSelectInput",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"emitGUIMouseUp",value:function(e){this.top=this.GUI.$props.top,this.left=this.GUI.$props.left,this.height=this.GUI.$props.height,this.width=this.GUI.$props.width}},{key:"emitGUIUnselect",value:function(e){this.emitUnselect(this)}}]),t}(h["c"]);d["a"]([Object(h["b"])()],_.prototype,"emitSelect",void 0),d["a"]([Object(h["b"])()],_.prototype,"emitUnselect",void 0),d["a"]([Object(h["d"])("top")],_.prototype,"onTopChange",null),d["a"]([Object(h["d"])("left")],_.prototype,"onLeftChange",null),d["a"]([Object(h["d"])("height")],_.prototype,"onHeightChange",null),d["a"]([Object(h["d"])("width")],_.prototype,"onWidthChange",null),_=d["a"]([h["a"]],_);var A=_,M=A,L=Object(g["a"])(M,O,k,!1,null,"6f4950af",null),P=L.exports,z=(n("5b0d"),function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(p["a"])(this,Object(c["a"])(t).call(this)),e.elements=[],e.selected=[],e.myPage={height:0,width:0},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"created",value:function(){window.addEventListener("resize",this.onWindowResize)}},{key:"mounted",value:function(){this.$nextTick(function(){var e=function(){return document.querySelectorAll("[data-editorLayer]")}();e.forEach(function(e){var t=e.getAttribute("data-editorLayer")||"";"background"===t?window.$BackgroundLayer=e:"base"===t?window.$BaseLayer=e:"gui"===t&&(window.$GuiLayer=e)});var t=document.querySelector("[data-canvas]")||new HTMLElement;window.$CanvasX=t.offsetLeft,window.$CanvasY=t.offsetTop})}},{key:"onWindowResize",value:function(){var e=document.querySelector(".sdp-editorTools")||new HTMLElement;console.log(e.offsetHeight),this.myPage.height=window.innerHeight-e.offsetHeight-20,this.myPage.width=.9*window.innerWidth}},{key:"addElement",value:function(e){var t;switch(e){case o.ElementTypes.input:t=new P;break}return t.$props.emitSelect=this.emitSelect,t.$props.emitUnselect=this.emitUnselect,this.elements.push(t),!0}},{key:"editElement",value:function(){alert("editElement")}},{key:"emitSelect",value:function(e){console.log(e),this.selected.push(e),console.log(this.selected,length)}},{key:"emitUnselect",value:function(e){for(var t=0;t<this.selected.length;t++)this.selected[t]==e&&this.selected.splice(t,1)}},{key:"deleteElement",value:function(){this.selected.forEach(function(e){e.$el.parentElement&&e.$el.parentElement.removeChild(e.$el),e.$data.GUI.$el.parentElement&&e.$data.GUI.$el.parentElement.removeChild(e.$data.GUI.$el)}),this.selected=[]}},{key:"initTools",value:function(){this.onWindowResize()}}]),t}(h["c"]));z=d["a"]([Object(h["a"])({components:{Tools:x}})],z);var D=z,W=D,F=Object(g["a"])(W,a,l,!1,null,null,null),H=F.exports;i["default"].config.productionTip=!0,new i["default"]({render:function(e){return e(H)}}).$mount("#app")},e3e8:function(e,t,n){e.exports=n.p+"img/baseline-label-24px.5e541b22.svg"}});
//# sourceMappingURL=app.6e5a9ca1.js.map